# Mana é¡¹ç›®å®æ–½è®¡åˆ’ - MVP é˜¶æ®µ

**åˆ¶å®šæ—¥æœŸ**: 2026-01-18
**é¢„è®¡å®Œæˆ**: 2å‘¨ï¼ˆ10ä¸ªå·¥ä½œæ—¥ï¼‰
**æ¶æ„æ–¹æ¡ˆ**: çº¯æµè§ˆå™¨ç«¯ + Cloudflare Workers AI API

---

## ğŸ“‹ MVP åŠŸèƒ½èŒƒå›´

### âœ… åŒ…å«åŠŸèƒ½
1. å•æ–‡ä»¶ä¸Šä¼ ï¼ˆCSV/Excel - å¾®ä¿¡ã€æ”¯ä»˜å®ã€é“¶è¡Œï¼‰
2. åŸºç¡€è§£æï¼ˆæå–æ—¥æœŸã€é‡‘é¢ã€æè¿°ï¼‰
3. è´¦æˆ·æ˜ å°„ï¼ˆé¢„è®¾æ˜ å°„è¡¨ + ç”¨æˆ·å¯ç¼–è¾‘ï¼‰
4. è§„åˆ™åˆ†ç±»ï¼ˆå…³é”®è¯åŒ¹é…ï¼‰
5. Cloudflare AI è‡ªåŠ¨åˆ†ç±»ï¼ˆå¯é€‰å¢å¼ºï¼‰
6. ç²¾ç¡®é‡å¤æ£€æµ‹ï¼ˆæ—¶é—´Â±1hï¼Œé‡‘é¢ç›¸åŒï¼‰
7. Beancount æ ¼å¼ç”Ÿæˆ
8. é¢„è§ˆå’Œç¼–è¾‘
9. ä¸‹è½½ .beancount æ–‡ä»¶

### âŒ ä¸åŒ…å«åŠŸèƒ½
- æ•°æ®åº“æŒä¹…åŒ–
- æ¨¡ç³ŠåŒ¹é…å»é‡
- å¤šæ–‡ä»¶åˆå¹¶
- å†å²è®°å½•
- ç”¨æˆ·è®¤è¯

---

## ğŸ—“ï¸ å¼€å‘è®¡åˆ’ï¼ˆ2å‘¨ï¼‰

### Week 1: æ ¸å¿ƒåŠŸèƒ½

#### Day 1-2: Beancount ç”Ÿæˆå™¨
**ç›®æ ‡**: å®ç°æ ¸å¿ƒçš„ Beancount æ–‡æœ¬ç”Ÿæˆé€»è¾‘

**æ–‡ä»¶**:
- `app/lib/beancount/generator.ts` - ä¸»ç”Ÿæˆå™¨
- `app/lib/beancount/types.ts` - ç±»å‹å®šä¹‰
- `app/lib/beancount/account-mapper.ts` - è´¦æˆ·æ˜ å°„

**ä»»åŠ¡**:
- [ ] å®šä¹‰ Beancount äº¤æ˜“ç±»å‹ï¼ˆTransaction, Posting, Accountï¼‰
- [ ] å®ç°äº¤æ˜“æ ¼å¼åŒ–å‡½æ•°ï¼ˆæ—¥æœŸã€æè¿°ã€é‡‘é¢ï¼‰
- [ ] å®ç°è´¦æˆ·æ˜ å°„é€»è¾‘ï¼ˆé»˜è®¤æ˜ å°„è¡¨ï¼‰
- [ ] å®ç° Beancount æ–‡æœ¬ç”Ÿæˆå™¨
- [ ] æ·»åŠ è¯­æ³•éªŒè¯åŸºç¡€åŠŸèƒ½

**éªŒæ”¶**:
```typescript
// è¾“å…¥
{
  date: "2025-01-15",
  description: "ç¾å›¢å¤–å–",
  amount: 35.50,
  currency: "CNY",
  source: "wechat"
}

// è¾“å‡º
`
2025-01-15 * "ç¾å›¢å¤–å–"
    Expenses:Food:Delivery    35.50 CNY
    Assets:WeChat:Cash       -35.50 CNY
`
```

---

#### Day 3-4: è´¦æˆ·æ˜ å°„å’Œè§„åˆ™å¼•æ“
**ç›®æ ‡**: å®ç°æ™ºèƒ½çš„è´¦æˆ·æ˜ å°„å’Œåˆ†ç±»è§„åˆ™ç³»ç»Ÿ

**æ–‡ä»¶**:
- `app/lib/beancount/default-accounts.ts` - é»˜è®¤è´¦æˆ·é…ç½®
- `app/lib/categorizer/rules.ts` - è§„åˆ™å¼•æ“
- `app/lib/categorizer/ai-categorizer.ts` - AI åˆ†ç±»å™¨

**ä»»åŠ¡**:
- [ ] å®šä¹‰é»˜è®¤è´¦æˆ·æ ‘ï¼ˆAssets, Liabilities, Expenses, Incomeï¼‰
- [ ] å®ç°æ”¯ä»˜æ–¹å¼åˆ°è´¦æˆ·çš„æ˜ å°„ï¼ˆå¾®ä¿¡â†’Assets:WeChat:Cashï¼‰
- [ ] å®ç°åŸºäºå…³é”®è¯çš„åˆ†ç±»è§„åˆ™ï¼ˆç¾å›¢â†’Expenses:Food:Deliveryï¼‰
- [ ] é›†æˆ Cloudflare AI API
- [ ] å®ç°è§„åˆ™ + AI æ··åˆåˆ†ç±»

**é»˜è®¤è´¦æˆ·é…ç½®**:
```typescript
const DEFAULT_ACCOUNTS = {
  // æ”¯ä»˜æ–¹å¼æ˜ å°„
  "wechat": "Assets:WeChat:Cash",
  "alipay": "Assets:Alipay:Balance",
  "bank": "Assets:Bank:Checking",

  // åˆ†ç±»è§„åˆ™
  rules: [
    { pattern: /ç¾å›¢|é¥¿äº†ä¹ˆ/, account: "Expenses:Food:Delivery" },
    { pattern: /æ»´æ»´|æ‰“è½¦/, account: "Expenses:Transport:Taxi" },
    // ...
  ]
};
```

**AI API è°ƒç”¨**:
```typescript
// Cloudflare Workers AI endpoint
const AI_ENDPOINT = "/api/categorize";

// è°ƒç”¨ç¤ºä¾‹
const category = await categorizeByAI(description, {
  fallback: "Expenses:Uncategorized"
});
```

---

#### Day 5-7: UI å¼€å‘ï¼ˆè½¬æ¢é¡µé¢ï¼‰
**ç›®æ ‡**: å®ç°æ–‡ä»¶ä¸Šä¼ å’Œè½¬æ¢çš„å®Œæ•´ UI æµç¨‹

**æ–‡ä»¶**:
- `app/routes/convert.new.tsx` - è½¬æ¢é¡µé¢ï¼ˆæ–°å»ºï¼‰
- `app/components/FileUploader.tsx` - æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- `app/components/AccountSelector.tsx` - è´¦æˆ·é€‰æ‹©å™¨
- `app/components/RulesEditor.tsx` - è§„åˆ™ç¼–è¾‘å™¨ï¼ˆå¯é€‰ï¼‰

**ä»»åŠ¡**:
- [ ] è®¾è®¡é¡µé¢å¸ƒå±€ï¼ˆä¸Šä¼ åŒº â†’ é…ç½®åŒº â†’ é¢„è§ˆåŒºï¼‰
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ï¼ˆæ”¯æŒæ‹–æ‹½ï¼‰
- [ ] å®ç°è´¦æˆ·é…ç½®ç•Œé¢ï¼ˆæ˜ å°„è¡¨ç¼–è¾‘ï¼‰
- [ ] å®ç°è§„åˆ™ç¼–è¾‘ç•Œé¢ï¼ˆå…³é”®è¯ç®¡ç†ï¼‰
- [ ] å®ç°è½¬æ¢æŒ‰é’®å’ŒåŠ è½½çŠ¶æ€
- [ ] åŸºç¡€é”™è¯¯å¤„ç†å’Œæç¤º

**é¡µé¢å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ä¸Šä¼ æ–‡ä»¶                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ‹–æ‹½ CSV/Excel æ–‡ä»¶åˆ°æ­¤å¤„         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  2. è´¦æˆ·é…ç½®ï¼ˆå¯æŠ˜å ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¾®ä¿¡æ”¯ä»˜ â†’ Assets:WeChat:Cash   â”‚  â”‚
â”‚  â”‚ æ”¯ä»˜å®   â†’ Assets:Alipay:Balanceâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  3. åˆ†ç±»è§„åˆ™ï¼ˆå¯æŠ˜å ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç¾å›¢|é¥¿äº†ä¹ˆ â†’ Expenses:Food:... â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  [ç”Ÿæˆ Beancount]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Week 2: å®Œå–„å’Œä¼˜åŒ–

#### Day 8-9: é›†æˆç°æœ‰è§£æå™¨
**ç›®æ ‡**: å°†ç°æœ‰çš„è´¦å•è§£æå™¨ä¸ Beancount ç”Ÿæˆå™¨é›†æˆ

**æ–‡ä»¶**:
- `app/lib/parsers/` - ç°æœ‰è§£æå™¨ï¼ˆå¤ç”¨ï¼‰
- `app/lib/converters/parser-to-beancount.ts` - æ–°å¢è½¬æ¢å™¨
- `app/routes/convert.new.tsx` - æ›´æ–°é›†æˆé€»è¾‘

**ä»»åŠ¡**:
- [ ] å®¡æŸ¥ç°æœ‰è§£æå™¨æ¥å£ï¼ˆ`ParsedBill` ç±»å‹ï¼‰
- [ ] å®ç°è§£æç»“æœ â†’ Beancount Transaction çš„è½¬æ¢
- [ ] å¤„ç†ä¸åŒæ¥æºçš„è´¦æˆ·æ˜ å°„
- [ ] æ·»åŠ æ•°æ®éªŒè¯å’Œæ¸…ç†
- [ ] é”™è¯¯å¤„ç†ï¼ˆè§£æå¤±è´¥ã€æ ¼å¼é”™è¯¯ï¼‰

**æ•°æ®æµ**:
```
CSV/Excel æ–‡ä»¶
  â†’ Parser.parse() (ç°æœ‰)
  â†’ ParsedBill[]
  â†’ toBeancountTransactions() (æ–°å¢)
  â†’ Beancount ç”Ÿæˆå™¨
  â†’ .beancount æ–‡æœ¬
```

---

#### Day 10-11: é‡å¤æ£€æµ‹åŠŸèƒ½
**ç›®æ ‡**: å®ç°ç²¾ç¡®é‡å¤æ£€æµ‹ï¼ˆæ—¶é—´Â±1hï¼Œé‡‘é¢ç›¸åŒï¼‰

**æ–‡ä»¶**:
- `app/lib/dedup/exact-matcher.ts` - ç²¾ç¡®åŒ¹é…ç®—æ³•
- `app/components/DuplicateViewer.tsx` - é‡å¤é¡¹å±•ç¤º

**ä»»åŠ¡**:
- [ ] å®ç°æ—¶é—´çª—å£åŒ¹é…ç®—æ³•
- [ ] å®ç°é‡‘é¢ç²¾ç¡®åŒ¹é…
- [ ] æ£€æµ‹è·¨æ¥æºé‡å¤ï¼ˆå¾®ä¿¡ + æ”¯ä»˜å®ï¼‰
- [ ] æ ‡è®°é‡å¤é¡¹
- [ ] UI å±•ç¤ºé‡å¤é¡¹ï¼ˆå…è®¸ç”¨æˆ·é€‰æ‹©ä¿ç•™å“ªä¸ªï¼‰

**ç®—æ³•**:
```typescript
function findDuplicates(
  transactions: Transaction[]
): DuplicateGroup[] {
  const groups: Transaction[][] = [];

  for (let i = 0; i < transactions.length; i++) {
    for (let j = i + 1; j < transactions.length; j++) {
      const t1 = transactions[i];
      const t2 = transactions[j];

      // æ—¶é—´å·® Â±1å°æ—¶
      const timeDiff = Math.abs(
        new Date(t1.date).getTime() - new Date(t2.date).getTime()
      );
      const timeClose = timeDiff <= 3600 * 1000; // 1å°æ—¶

      // é‡‘é¢ç›¸åŒ
      const amountSame = Math.abs(t1.amount - t2.amount) < 0.01;

      // ä¸åŒæ¥æº
      const differentSource = t1.source !== t2.source;

      if (timeClose && amountSame && differentSource) {
        groups.push([t1, t2]);
      }
    }
  }

  return groups;
}
```

---

#### Day 12-13: é¢„è§ˆå’Œç¼–è¾‘åŠŸèƒ½
**ç›®æ ‡**: å®ç°ç”Ÿæˆç»“æœçš„é¢„è§ˆå’Œæ‰‹åŠ¨ç¼–è¾‘

**æ–‡ä»¶**:
- `app/routes/convert.preview.tsx` - é¢„è§ˆé¡µé¢ï¼ˆæ–°å»ºï¼‰
- `app/components/BeancountEditor.tsx` - ä»£ç ç¼–è¾‘å™¨ç»„ä»¶

**ä»»åŠ¡**:
- [ ] åˆ›å»ºé¢„è§ˆé¡µé¢ï¼ˆå±•ç¤ºç”Ÿæˆçš„ Beancountï¼‰
- [ ] å®ç°ä»£ç ç¼–è¾‘å™¨ï¼ˆè¯­æ³•é«˜äº®ï¼‰
- [ ] æ·»åŠ éªŒè¯æç¤ºï¼ˆè¯­æ³•é”™è¯¯æ£€æµ‹ï¼‰
- [ ] å®ç°ä¸‹è½½åŠŸèƒ½ï¼ˆ.beancount æ–‡ä»¶ï¼‰
- [ ] æ·»åŠ å¤åˆ¶åˆ°å‰ªè´´æ¿æŒ‰é’®
- [ ] æ”¯æŒæ‰‹åŠ¨ç¼–è¾‘åé‡æ–°ä¸‹è½½

**é¢„è§ˆé¡µé¢å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”ŸæˆæˆåŠŸï¼å…± 156 ç¬”äº¤æ˜“                â”‚
â”‚                                        â”‚
â”‚  âš ï¸ å‘ç° 3 ç»„é‡å¤äº¤æ˜“                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. ç¾å›¢å¤–å– 35.50å…ƒ               â”‚  â”‚
â”‚  â”‚    å¾®ä¿¡: 2025-01-15 12:30        â”‚  â”‚
â”‚  â”‚    æ”¯ä»˜å®: 2025-01-15 12:31      â”‚  â”‚
â”‚  â”‚    [ä¿ç•™å¾®ä¿¡] [ä¿ç•™æ”¯ä»˜å®]         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  Beancount é¢„è§ˆ                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2025-01-15 * "ç¾å›¢å¤–å–"           â”‚  â”‚
â”‚  â”‚     Expenses:Food:Delivery ...   â”‚  â”‚
â”‚  â”‚     Assets:WeChat:Cash ...       â”‚  â”‚
â”‚  â”‚ (ç¼–è¾‘æ¡†)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  [ä¸‹è½½ .beancount] [å¤åˆ¶] [è¿”å›ç¼–è¾‘]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### Day 14: é”™è¯¯å¤„ç†å’Œæµ‹è¯•
**ç›®æ ‡**: å®Œå–„é”™è¯¯å¤„ç†ï¼Œè¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•

**ä»»åŠ¡**:
- [ ] æ·»åŠ æ–‡ä»¶ç±»å‹éªŒè¯
- [ ] æ·»åŠ æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
- [ ] å¤„ç†è§£æå¤±è´¥æƒ…å†µ
- [ ] å¤„ç† AI API è°ƒç”¨å¤±è´¥
- [ ] æ·»åŠ å‹å¥½çš„é”™è¯¯æç¤º
- [ ] ä½¿ç”¨çœŸå®è´¦å•æ–‡ä»¶æµ‹è¯•
- [ ] ä¿®å¤å‘ç°çš„ Bug

**é”™è¯¯å¤„ç†åœºæ™¯**:
- âŒ æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ â†’ æç¤ºæ”¯æŒçš„æ ¼å¼
- âŒ æ–‡ä»¶è¿‡å¤§ â†’ æç¤ºæ–‡ä»¶å¤§å°é™åˆ¶
- âŒ è§£æå¤±è´¥ â†’ æ˜¾ç¤ºé”™è¯¯è¡Œå’Œå»ºè®®
- âŒ AI API è¶…æ—¶ â†’ é™çº§åˆ°è§„åˆ™å¼•æ“
- âŒ ç”Ÿæˆçš„ Beancount è¯­æ³•é”™è¯¯ â†’ æ ‡è®°é”™è¯¯è¡Œ

---

## ğŸ“ ç›®å½•ç»“æ„

### æ–°å¢æ–‡ä»¶

```
app/
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ convert.new.tsx          # è½¬æ¢é¡µé¢ï¼ˆä¸Šä¼ å’Œé…ç½®ï¼‰
â”‚   â””â”€â”€ convert.preview.tsx      # é¢„è§ˆé¡µé¢ï¼ˆå±•ç¤ºå’Œç¼–è¾‘ï¼‰
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ beancount/               # Beancount ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ generator.ts         # ä¸»ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ types.ts             # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ account-mapper.ts    # è´¦æˆ·æ˜ å°„
â”‚   â”‚   â”œâ”€â”€ validator.ts         # è¯­æ³•éªŒè¯
â”‚   â”‚   â””â”€â”€ default-accounts.ts  # é»˜è®¤é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ categorizer/             # åˆ†ç±»å™¨
â”‚   â”‚   â”œâ”€â”€ rules.ts             # è§„åˆ™å¼•æ“
â”‚   â”‚   â””â”€â”€ ai-categorizer.ts    # AI åˆ†ç±»å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ dedup/                   # é‡å¤æ£€æµ‹
â”‚   â”‚   â””â”€â”€ exact-matcher.ts     # ç²¾ç¡®åŒ¹é…
â”‚   â”‚
â”‚   â””â”€â”€ converters/              # è½¬æ¢å™¨
â”‚       â””â”€â”€ parser-to-beancount.ts
â”‚
â””â”€â”€ components/
    â”œâ”€â”€ FileUploader.tsx         # æ–‡ä»¶ä¸Šä¼ 
    â”œâ”€â”€ AccountSelector.tsx      # è´¦æˆ·é€‰æ‹©
    â”œâ”€â”€ RulesEditor.tsx          # è§„åˆ™ç¼–è¾‘
    â”œâ”€â”€ DuplicateViewer.tsx      # é‡å¤é¡¹æŸ¥çœ‹
    â””â”€â”€ BeancountEditor.tsx      # ä»£ç ç¼–è¾‘å™¨
```

### ä¿®æ”¹æ–‡ä»¶

```
app/
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ _index.tsx               # æ·»åŠ è½¬æ¢å…¥å£é“¾æ¥
â”‚
â””â”€â”€ lib/
    â””â”€â”€ parsers/                 # ç°æœ‰è§£æå™¨ï¼ˆå¯èƒ½éœ€è¦è°ƒæ•´ï¼‰
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–ï¼ˆç°æœ‰ï¼‰
- React Router v7
- TypeScript
- Tailwind CSS v4
- papaparse (CSV è§£æ)
- xlsx (Excel è§£æ)

### æ–°å¢ä¾èµ–
```json
{
  "date-fns": "^3.0.0",        // æ—¥æœŸå¤„ç†
  "zod": "^3.22.0",            // æ•°æ®éªŒè¯
  "monaco-editor": "^0.45.0"   // ä»£ç ç¼–è¾‘å™¨ï¼ˆå¯é€‰ï¼‰
}
```

### Cloudflare Workers API
- **ç«¯ç‚¹**: `/api/categorize`ï¼ˆå·²å­˜åœ¨ï¼Œå¤ç”¨ï¼‰
- **æ¨¡å‹**: @cf/meta/llama-3.1-8b-instruct
- **ç”¨é€”**: äº¤æ˜“æè¿°è‡ªåŠ¨åˆ†ç±»

---

## ğŸ¯ é‡Œç¨‹ç¢‘å’ŒéªŒæ”¶æ ‡å‡†

### Milestone 1: Day 1-2
**éªŒæ”¶**: èƒ½ç”ŸæˆåŸºæœ¬çš„ Beancount æ–‡æœ¬
```typescript
const beancount = generateBeancount([{
  date: "2025-01-15",
  description: "æµ‹è¯•",
  amount: 100,
  currency: "CNY",
  source: "wechat"
}]);

// æœŸæœ›è¾“å‡ºæœ‰æ•ˆçš„ Beancount è¯­æ³•
```

### Milestone 2: Day 3-4
**éªŒæ”¶**: èƒ½è‡ªåŠ¨åˆ†ç±»äº¤æ˜“
```typescript
// è¾“å…¥: "ç¾å›¢å¤–å–"
// è¾“å‡º: "Expenses:Food:Delivery"

// è¾“å…¥: "æ»´æ»´æ‰“è½¦"
// è¾“å‡º: "Expenses:Transport:Taxi"
```

### Milestone 3: Day 5-7
**éªŒæ”¶**: å®Œæ•´çš„ UI æµç¨‹
- ä¸Šä¼ æ–‡ä»¶ â†’ æ˜¾ç¤ºé…ç½® â†’ ç‚¹å‡»ç”Ÿæˆ â†’ é¢„è§ˆç»“æœ

### Milestone 4: Day 8-9
**éªŒæ”¶**: é›†æˆç°æœ‰è§£æå™¨
- èƒ½è§£æçœŸå®å¾®ä¿¡/æ”¯ä»˜å®è´¦å•
- æ­£ç¡®æ˜ å°„åˆ° Beancount æ ¼å¼

### Milestone 5: Day 10-11
**éªŒæ”¶**: é‡å¤æ£€æµ‹åŠŸèƒ½
- èƒ½è¯†åˆ«è·¨æ¥æºçš„é‡å¤äº¤æ˜“
- ç”¨æˆ·å¯é€‰æ‹©ä¿ç•™å“ªä¸ª

### Milestone 6: Day 12-13
**éªŒæ”¶**: å®Œæ•´çš„é¢„è§ˆå’Œä¸‹è½½
- å±•ç¤ºç”Ÿæˆçš„ Beancount
- æ”¯æŒæ‰‹åŠ¨ç¼–è¾‘
- æˆåŠŸä¸‹è½½ .beancount æ–‡ä»¶

### Milestone 7: Day 14
**éªŒæ”¶**: ç¨³å®šæ€§å’Œé”™è¯¯å¤„ç†
- å„ç§å¼‚å¸¸æƒ…å†µæœ‰å‹å¥½æç¤º
- çœŸå®è´¦å•æ–‡ä»¶æµ‹è¯•é€šè¿‡

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- TypeScript ä¸¥æ ¼æ¨¡å¼
- å‡½æ•°å¿…é¡»æœ‰ç±»å‹æ³¨è§£
- ä½¿ç”¨ `interface` å®šä¹‰æ•°æ®ç»“æ„
- å¯¼å‡ºçš„å‡½æ•°æ·»åŠ  JSDoc æ³¨é‡Š

### Git æäº¤è§„èŒƒ
```
feat: æ·»åŠ  Beancount ç”Ÿæˆå™¨
fix: ä¿®å¤æ—¥æœŸè§£æé”™è¯¯
refactor: é‡æ„è´¦æˆ·æ˜ å°„é€»è¾‘
test: æ·»åŠ é‡å¤æ£€æµ‹æµ‹è¯•
docs: æ›´æ–° README
```

### æµ‹è¯•ç­–ç•¥
- æ¯ä¸ªæ ¸å¿ƒå‡½æ•°æ·»åŠ å•å…ƒæµ‹è¯•
- ä½¿ç”¨çœŸå®è´¦å•æ–‡ä»¶è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•
- æ‰‹åŠ¨æµ‹è¯•å„ç§è¾¹ç•Œæƒ…å†µ

---

## ğŸš€ éƒ¨ç½²è®¡åˆ’

### å¼€å‘ç¯å¢ƒ
```bash
pnpm dev
# è®¿é—® http://localhost:3000
```

### éƒ¨ç½²åˆ° Cloudflare
```bash
pnpm build
npx wrangler deploy
```

### éªŒè¯éƒ¨ç½²
```bash
curl -I https://mana.feihe.workers.dev/
# æœŸæœ›: 200 OK
```

---

## ğŸ“ˆ åç»­æ‰©å±•ï¼ˆMVP ä¹‹åï¼‰

### ç¬¬äºŒé˜¶æ®µåŠŸèƒ½ï¼ˆä¼˜å…ˆçº§æ’åºï¼‰
1. â­ æ¨¡ç³ŠåŒ¹é…å»é‡
2. â­ ç”¨æˆ·è‡ªå®šä¹‰è§„åˆ™æŒä¹…åŒ–
3. â­ å¤šæ–‡ä»¶åˆå¹¶ä¸Šä¼ 
4. â­ Cloudflare AI ç›´æ¥è°ƒç”¨ï¼ˆä¸ç»è¿‡ Workersï¼‰
5. â­ å¯¼å…¥å†å²è®°å½•
6. â­ æ‰¹é‡å¤„ç†
7. â­ å¯¼å‡ºä¸ºå…¶ä»–æ ¼å¼ï¼ˆJSON, CSVï¼‰

---

**è®¡åˆ’ç‰ˆæœ¬**: v1.0
**åˆ¶å®šäºº**: Claude (Sonnet 4.5)
**å®¡æ ¸äºº**: Hefei
**çŠ¶æ€**: âœ… å¾…æ‰¹å‡†å®æ–½
